<!DOCTYPE html>
<html>
<head>
    <title>ğŸ§ª Test 3D Campus Fix</title>
    <style>
        body { font-family: monospace; background: #0f172a; color: #10b981; padding: 20px; }
        iframe { width: 100%; height: 600px; border: 2px solid #3b82f6; border-radius: 8px; }
        .status { background: #1e293b; padding: 15px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Test 3D Campus Fix</h1>
    
    <div class="status">
        <h2>ğŸ“Š Status</h2>
        <div id="status">Loading...</div>
    </div>
    
    <iframe src="3d-campus-smart-city.html" id="campusFrame"></iframe>
    
    <script>
        const statusDiv = document.getElementById('status');
        const frame = document.getElementById('campusFrame');
        
        function updateStatus(message, type = 'info') {
            const color = type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#f59e0b';
            statusDiv.innerHTML += `<div style="color: ${color}">${message}</div>`;
        }
        
        updateStatus('ğŸš€ Loading 3D Campus page...');
        
        frame.onload = () => {
            updateStatus('âœ… Frame loaded successfully', 'success');
            
            setTimeout(() => {
                try {
                    const frameWindow = frame.contentWindow;
                    
                    if (frameWindow.THREE) {
                        updateStatus('âœ… THREE.js loaded in frame', 'success');
                    } else {
                        updateStatus('âŒ THREE.js not found in frame', 'error');
                    }
                    
                    if (frameWindow.aiCampus3D) {
                        updateStatus('âœ… aiCampus3D instance found', 'success');
                        
                        if (frameWindow.aiCampus3D.scene) {
                            updateStatus('âœ… Scene created', 'success');
                        } else {
                            updateStatus('âŒ Scene not created', 'error');
                        }
                        
                        if (frameWindow.aiCampus3D.renderer) {
                            updateStatus('âœ… Renderer created', 'success');
                        } else {
                            updateStatus('âŒ Renderer not created', 'error');
                        }
                        
                    } else {
                        updateStatus('âŒ aiCampus3D instance not found', 'error');
                    }
                    
                } catch (error) {
                    updateStatus(`âš ï¸ Cross-origin check failed: ${error.message}`, 'info');
                    updateStatus('ğŸ” This is normal for local testing', 'info');
                }
            }, 3000);
        };
        
        frame.onerror = () => {
            updateStatus('âŒ Failed to load frame', 'error');
        };
    </script>
</body>
</html>